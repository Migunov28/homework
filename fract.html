<!DOCTYPE HTML>
<html>
<head><meta charset="utf-8"></head>
<body>
  <canvas id="myCanvas"></canvas>
  <script>
    window.onload=function(){
      var canvas=document.getElementById('myCanvas');
      var context=canvas.getContext('2d');
      canvas.width=800, canvas.height=800;
      context.beginPath();

      recurs(context, 2, 250, 250, 500, 250);
      context.stroke();
    };
    var angle=45*Math.PI/180;
    var cos = Math.cos(angle);
    var sin = Math.sin(angle);
    function recurs(context, n, x0, y0, x1, y1){ //n итераций, Точки A1(x0,y0) и A2(x1,y1)
      if (n==0){
        context.moveTo(x0,y0);
        context.lineTo(x1,y1);
      }else{
        var xx=x0+cos*(cos*(x1-x0)-sin*(y1-y0));
        var yy=y0-sin*(sin*(x1-x0)+sin*(y1-y0));
        recurs(context, n-1, xx, yy, x1, y1); //A2, A3
        recurs(context, n-1, x0, y0, xx, yy); //A1, A3
      }
    }
  </script>
   </body>
   </html>
